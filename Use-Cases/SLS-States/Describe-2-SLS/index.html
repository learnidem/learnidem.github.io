<!doctype html><html lang=en-gb>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Describe 2 SLS - Learn Idem</title>
<meta name=description content="   Powered by Idem Project">
<meta name=generator content="Hugo 0.92.1">
<link href=https://learnidem.github.io/index.xml rel=alternate type=application/rss+xml>
<link rel=canonical href=https://learnidem.github.io/Use-Cases/SLS-States/Describe-2-SLS/>
<link rel=stylesheet href=https://learnidem.github.io/css/theme.css>
<link rel=stylesheet href=/css/lightbox.min.css>
<link rel=stylesheet href=/css/custom.css>
<script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script>
<link rel=stylesheet href=https://learnidem.github.io/css/chroma.min.css>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script>
<script src=https://learnidem.github.io/js/bundle.js></script>
<script src=/js/lightbox.min.js></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8R0DEW1VZM"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-8R0DEW1VZM')</script>
<style>:root{--custom-font-color:#0065ab;--custom-background-color:#FFFFFF}</style>
<meta property="og:title" content="Describe 2 SLS">
<meta property="og:description" content="   Powered by Idem Project">
<meta property="og:type" content="website">
<meta property="og:url" content="https://learnidem.github.io/Use-Cases/SLS-States/Describe-2-SLS/"><meta property="og:image" content="https://learnidem.github.io/images/service-broker.svg"><meta property="og:site_name" content="Learn Idem">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://learnidem.github.io/images/service-broker.svg">
<meta name=twitter:title content="Describe 2 SLS">
<meta name=twitter:description content="   Powered by Idem Project">
<meta itemprop=name content="Describe 2 SLS">
<meta itemprop=description content="   Powered by Idem Project"></head>
<body><div class=container><header>
<div class=header-image>
<img src=/images/idem-logo.jpg alt="   Learn Idem">
</div>
<div class=header>
<div class=header-h1>
<h1 class=header-h1> Learn Idem</h1>
</div>
<div class=header-description>
<p class=description> Powered by Idem Project</p>
</div>
</div>
</header>
<div class=content-container>
<main><h1>Describe 2 SLS</h1><p>You probably noticed that when you execute a <a href=/Use-Cases/Describe/>
describe
</a> operation fron CLI, the output resembles the same kind of data we have defined in SLS states examples, that is because it is exactly the same, meaning, you don&rsquo;t need to start from scratch to create, modify or even delete resources, you can simply issue the <a href=/Use-Cases/Describe/>
describe
</a> operation and save the output into an SLS file then &ldquo;tweak&rdquo; accordingly to meet your intention.</p>
<p>Let&rsquo;s say we want to add a new Azure resource group, for that I could simply describe an existing &ldquo;Azure Resource Group Name&rdquo; and save the output into a SLS file.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell> idem describe azure.resource_management.resource_groups --filter<span class=o>=</span><span class=s2>&#34;[?resource[?vm_name==&#39;&lt;Existing Azure Resource Group Name&gt;&#39;]]&#34;</span> &gt;&gt; &lt;states folder&gt;/my_other_resource_group_state.sls
</code></pre></div><p>Then we can edit the file, removing any property we don&rsquo;t need, &ldquo;Provison States&rdquo; sentences and &ldquo;ID&rdquo; entries, inlcuding any long names with specific &ldquo;IDs&rdquo;, as they are generated by the system, then updating the relevant ones, such as the name or the region, or any parameter associated to the new resource<br>
Please note, that when editing, you always need to include the minimum parameters to create any given resource (Azure Provider Documentation and even Azure Cloud API documentation provides details in this regard).</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>&lt;New Azure Resource Group Name&gt;</span><span class=p>:</span><span class=w>
</span><span class=w> </span><span class=nt>azure.resource_management.resource_groups.present</span><span class=p>:</span><span class=w>
</span><span class=w> </span>- <span class=nt>resource_group_name</span><span class=p>:</span><span class=w> </span><span class=l>&lt;New Azure Resource Group Name&gt;</span><span class=w>
</span><span class=w> </span>- <span class=nt>parameters</span><span class=p>:</span><span class=w>
</span><span class=w>     </span><span class=nt>location</span><span class=p>:</span><span class=w> </span><span class=l>eastus</span><span class=w>
</span><span class=w>     </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>&lt;New Azure Resource Group Name&gt;</span><span class=w>
</span><span class=w>     </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span><span class=w>     </span><span class=nt>tags</span><span class=p>:</span><span class=w>
</span><span class=w>       </span>{<span class=nt>createdWith</span><span class=p>:</span><span class=w> </span><span class=l>idem}</span><span class=w>
</span><span class=w>     </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Microsoft.Resources/resourceGroups</span><span class=w>
</span></code></pre></div><p>Of course you can use an existing SLS File, e,g. you may have all your Resource Groups in one single SLS State file.
Please make sure to indicate the state directive <a href=Getting-Started/Basic-Commands/>
present
</a>, for instructing idem to <b>create</b> a new resource group in Azure.</p>
<p>Then <b>State SLS</b> file can be executed with:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>idem state &lt;file_path&gt;/my_other_resource_group_state.sls
</code></pre></div><p>In this example:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell>idem state states/my_other_resource_group_state.sls
</code></pre></div><p>After that you will see Idem creating a new resource to meet our new intentention and state.</p>
<p>State &ldquo;Describe 2 SLS&rdquo;:</p>
<script id=asciicast-Kt6u7T78eZnRAgkfgzy86ggen src=https://asciinema.org/a/Kt6u7T78eZnRAgkfgzy86ggen.js async theme=asciinema data-autoplay=true data-size=small loop=true></script>
<div class=edit-meta>
Last updated on 3 Feb 2022
<br><a href=https://github.com/cmbu-tmm-sites/learnidem/edit/main/content/Use%20Cases/SLS%20States/Describe%202%20SLS/_index.md class=edit-page><i class="fas fa-pen-square"></i>&nbsp;Edit on GitHub</a></div><nav class=pagination><a class="nav nav-prev" href=https://learnidem.github.io/Use-Cases/SLS-States/Absent/ title=Absent><i class="fas fa-arrow-left" aria-hidden=true></i>&nbsp;Prev - Absent</a>
<a class="nav nav-next" href=https://learnidem.github.io/Use-Cases/SLS-States/Resources-and-SLS/ title="Resources and SLS">Next - Resources and SLS <i class="fas fa-arrow-right" aria-hidden=true></i></a>
</nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme adapted from <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p>
</footer>
</main>
<div class=sidebar>
<nav class=slide-menu>
<ul>
<li><a href=https://learnidem.github.io>Home</a></li>
<li class=has-sub-menu><a href=https://learnidem.github.io/Getting-Started/>Getting Started<span class="mark closed">+</span></a>
<ul class=sub-menu>
<li><a href=https://learnidem.github.io/Getting-Started/Install-Idem/>Install Idem</a>
</li>
<li class=has-sub-menu><a href=https://learnidem.github.io/Getting-Started/Cloud-Providers/>Cloud Providers<span class="mark closed">+</span></a>
<ul class=sub-menu>
<li><a href=https://learnidem.github.io/Getting-Started/Cloud-Providers/idem-azure-auto/>Idem Azure Auto Provider</a>
</li>
</ul>
</li>
<li><a href=https://learnidem.github.io/Getting-Started/Authenticate/>Authenticate</a>
</li>
<li><a href=https://learnidem.github.io/Getting-Started/Basic-Commands/>Basic Commands</a>
</li>
<li><a href=https://learnidem.github.io/Getting-Started/Troubleshooting/>Troubleshooting</a>
</li>
</ul>
</li>
<li class="parent has-sub-menu"><a href=https://learnidem.github.io/Use-Cases/>Use Cases<span class="mark opened">-</span></a>
<ul class=sub-menu>
<li><a href=https://learnidem.github.io/Use-Cases/Describe/>Describe command</a>
</li>
<li class="parent has-sub-menu"><a href=https://learnidem.github.io/Use-Cases/SLS-States/>SLS States<span class="mark opened">-</span></a>
<ul class=sub-menu>
<li><a href=https://learnidem.github.io/Use-Cases/SLS-States/Present/>Present</a>
</li>
<li><a href=https://learnidem.github.io/Use-Cases/SLS-States/Present-Update/>Present Update</a>
</li>
<li><a href=https://learnidem.github.io/Use-Cases/SLS-States/Absent/>Absent</a>
</li>
<li class="parent active"><a href=https://learnidem.github.io/Use-Cases/SLS-States/Describe-2-SLS/>Describe 2 SLS</a>
</li>
<li><a href=https://learnidem.github.io/Use-Cases/SLS-States/Resources-and-SLS/>Resources and SLS</a>
</li>
<li><a href=https://learnidem.github.io/Use-Cases/SLS-States/End-to-End-Azure-VM/>End to End Azure VM</a>
</li>
</ul>
</li>
<li><a href=https://learnidem.github.io/Use-Cases/Filter-flag/>Filter Flag</a>
</li>
<li><a href=https://learnidem.github.io/Use-Cases/reconciler-flag/>Reconcilier Flag</a>
</li>
<li><a href=https://learnidem.github.io/Use-Cases/Force-Update/>Force Update</a>
</li>
</ul>
</li>
<li><a href=https://learnidem.github.io/Developer-Resources/>Developer Resources</a>
</li>
</ul>
</nav>
<div class=sidebar-footer></div>
</div>
</div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20>
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>